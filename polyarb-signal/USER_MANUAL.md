# คู่มือการใช้งาน PolyArb Signal v1.0

ยินดีต้อนรับสู่ PolyArb Signal! โปรแกรมนี้ถูกออกแบบมาเพื่อช่วยคุณตรวจจับโอกาส Arbitrage บน Polymarket และส่งแจ้งเตือนไปยัง Telegram ของคุณแบบ real-time

---

## ภาค 1: การตั้งค่าครั้งแรก (สำคัญที่สุด)

เพื่อให้โปรแกรมสามารถส่งแจ้งเตือนไปยัง Telegram ได้ คุณต้องตั้งค่า **Bot Token** และ **Chat ID** ก่อน

### ขั้นตอนที่ 1: สร้าง Telegram Bot และรับ Bot Token

1.  เปิด Telegram แล้วค้นหา `BotFather` (ต้องเป็น Bot ที่มีเครื่องหมาย ✔️ สีฟ้า)
2.  เริ่มแชทกับ BotFather โดยพิมพ์ `/start`
3.  สร้าง Bot ใหม่โดยพิมพ์ `/newbot`
4.  ตั้งชื่อ Bot ของคุณ (เช่น `My PolyArb Bot`)
5.  ตั้ง username สำหรับ Bot (ต้องลงท้ายด้วย `bot` เช่น `my_polyarb_signal_bot`)
6.  เมื่อสำเร็จ BotFather จะส่งข้อความที่มี **Bot Token** มาให้ ให้คัดลอก Token นั้นไว้ (มีลักษณะเหมือน `1234567890:ABCDEFGHIJKL-mnopqrstuvwxyz123456789`)

### ขั้นตอนที่ 2: หา Chat ID ของคุณ

1.  เปิด Telegram แล้วค้นหา `userinfobot`
2.  เริ่มแชทกับ `userinfobot` โดยพิมพ์ `/start`
3.  Bot จะตอบกลับมาพร้อมกับ **Chat ID** ของคุณ (เป็นตัวเลข)

### ขั้นตอนที่ 3: กรอกข้อมูลในโปรแกรม

1.  เปิดโปรแกรม PolyArb Signal
2.  ไปที่แท็บ **"ตั้งค่า"**
3.  ในส่วน **"ตั้งค่า Telegram"**:
    *   นำ **Bot Token** ที่ได้จาก BotFather ไปวางในช่อง "Telegram Bot Token"
    *   นำ **Chat ID** ที่ได้จาก userinfobot ไปวางในช่อง "Telegram Chat ID"
4.  กดปุ่ม **"ทดสอบการเชื่อมต่อ"** เพื่อให้แน่ใจว่าการตั้งค่าถูกต้อง โปรแกรมจะส่งข้อความทดสอบไปยัง Telegram ของคุณ
5.  กดปุ่ม **"บันทึกการตั้งค่า"** ที่ด้านล่างสุดของหน้า

**ยินดีด้วย! ตอนนี้โปรแกรมพร้อมใช้งานแล้ว**

---

## ภาค 2: หน้าจอหลัก (แดชบอร์ด)

หน้าจอหลักคือศูนย์กลางการควบคุมและการแสดงผลของโปรแกรม

![Dashboard](https://i.imgur.com/example.png) <!-- Placeholder for image -->

| ส่วนประกอบ | คำอธิบาย |
| :--- | :--- |
| **ปุ่ม เริ่ม/หยุดสแกน** | ใช้เพื่อเริ่มหรือหยุดกระบวนการตรวจจับ Signal |
| **ตลาดทั้งหมด** | จำนวนตลาดทั้งหมดที่โปรแกรมกำลังสแกนอยู่ |
| **Tier A** | จำนวนตลาดที่ถูกจัดอยู่ใน Tier A (สแกนบ่อย, ทุก 3 วินาที) |
| **Tier B** | จำนวนตลาดที่ถูกจัดอยู่ใน Tier B (สแกนปกติ, ทุก 30 วินาที) |
| **Signals วันนี้** | จำนวน Arbitrage Signal ที่พบใน 24 ชั่วโมงที่ผ่านมา |
| **สถานะ Signal Engine** | `กำลังทำงาน` หรือ `หยุดอยู่` |
| **สถานะ WebSocket** | `เชื่อมต่อแล้ว` (รับข้อมูล real-time) หรือ `ไม่ได้เชื่อมต่อ` (ใช้ REST polling) |
| **Signal ล่าสุด** | แสดงรายละเอียดของ Arbitrage Signal ที่พบครั้งล่าสุด |

---

## ภาค 3: การตั้งค่า (Settings)

คุณสามารถปรับแต่งการทำงานของโปรแกรมได้อย่างละเอียดในหน้านี้

### 3.1 ตั้งค่าการสแกน (Scanning Parameters)

| การตั้งค่า | คำอธิบาย | ค่าเริ่มต้น |
| :--- | :--- | :--- |
| **Threshold (%)** | กำไรขั้นต่ำ (หลังหักค่า Fee) ที่จะถือว่าเป็น Signal | `1.0` % |
| **Fee Buffer (%)** | ค่าธรรมเนียมโดยประมาณของ Polymarket | `0.2` % |
| **Cooldown (ms)** | ระยะเวลาที่จะไม่ส่ง Signal ซ้ำสำหรับตลาดเดิม | `300000` (5 นาที) |

### 3.2 ตัวกรองตลาด (Market Filters)

ใช้เพื่อกรองตลาดที่ไม่น่าสนใจออกไป

| การตั้งค่า | คำอธิบาย | ค่าเริ่มต้น |
| :--- | :--- | :--- |
| **สภาพคล่องขั้นต่ำ ($)** | จะสแกนเฉพาะตลาดที่มี Liquidity มากกว่าค่าที่กำหนด | `5000` |
| **ปริมาณซื้อขาย 24 ชม. ($)** | จะสแกนเฉพาะตลาดที่มี Volume 24 ชม. มากกว่าค่าที่กำหนด | `2000` |
| **Spread สูงสุด (%)** | ส่วนต่างราคาสูงสุดระหว่าง Best Bid และ Best Ask ที่ยอมรับได้ | `3.0` % |
| **ขนาด Order ขั้นต่ำ ($)** | ขนาดของ Order ที่ราคาดีที่สุด (Top Ask) ต้องมีมูลค่ามากกว่าค่านี้ | `100` |

### 3.3 ระบบ Tier (Tiering System)

| การตั้งค่า | คำอธิบาย | ค่าเริ่มต้น |
| :--- | :--- | :--- |
| **จำนวนตลาด Tier A สูงสุด** | จำนวนตลาดสูงสุดที่จะอยู่ใน Tier A ได้ | `50` |
| **ความถี่สแกน Tier A (ms)** | ความถี่ในการสแกนตลาดใน Tier A | `3000` (3 วินาที) |
| **ความถี่สแกน Tier B (ms)** | ความถี่ในการสแกนตลาดใน Tier B | `30000` (30 วินาที) |

### 3.4 ทั่วไป (General)

| การตั้งค่า | คำอธิบาย | ค่าเริ่มต้น |
| :--- | :--- | :--- |
| **เริ่มทำงานพร้อม Windows** | เปิดใช้งานเพื่อให้โปรแกรมเริ่มทำงานอัตโนมัติเมื่อเปิดคอมพิวเตอร์ | `ปิด` |
| **ย่อลงไปที่ System Tray** | เมื่อกดปิดหน้าต่าง โปรแกรมจะย่อไปอยู่ที่มุมขวาล่างแทนการปิดตัว | `เปิด` |
| **ส่งแจ้งเตือนเมื่อสภาพคล่องต่ำ** | ส่งแจ้งเตือนแม้ว่า Signal ที่พบจะมีสภาพคล่อง (Depth) ต่ำ | `ปิด` |

---

## ภาค 4: การจัดการตลาด (Markets Tab)

ในแท็บ **"ตลาด"** คุณสามารถดูรายชื่อตลาดทั้งหมดที่กำลังสแกนอยู่ และจัดการได้ดังนี้:

- **Pin (ปักหมุด)**: การปักหมุดจะบังคับให้ตลาดนั้นอยู่ใน **Tier A** เสมอ เหมาะสำหรับตลาดที่คุณสนใจเป็นพิเศษ
- **Blacklist (บัญชีดำ)**: การ Blacklist จะนำตลาดนั้นออกจากการสแกนอย่างถาวร

---

## ภาค 5: บันทึก (Logs Tab)

ในแท็บ **"บันทึก"** คุณสามารถดูประวัติ Arbitrage Signal ที่เคยพบทั้งหมด และสามารถ **Export** ข้อมูลทั้งหมดออกมาเป็นไฟล์ JSON ได้

---

## ภาค 6: หลักการทำงาน

1.  **Arbitrage คืออะไร?**: ในตลาด Binary Options (YES/NO) โดยทฤษฎีแล้ว ราคาของ `YES` + `NO` ควรจะเท่ากับ 100¢ เสมอ Arbitrage เกิดขึ้นเมื่อ `ราคา ASK ของ YES + ราคา ASK ของ NO < 100¢` ทำให้เราสามารถซื้อทั้งสองฝั่งและทำกำไรที่แน่นอนได้

2.  **การคำนวณกำไร (Effective Edge)**: โปรแกรมจะคำนวณหา `1 - (YES_ask + NO_ask) - Fee` หากค่านี้มากกว่า **Threshold** ที่ตั้งไว้ จะถือว่าเป็น Signal

3.  **ระบบ Tier**: เพื่อการใช้ทรัพยากรอย่างมีประสิทธิภาพ โปรแกรมจะจัดลำดับความสำคัญของตลาด ตลาดที่มีแนวโน้มจะเกิด Arbitrage (เช่น มี Volume สูง, Liquidity ดี) จะถูกย้ายไป **Tier A** และสแกนบ่อยขึ้น

---

ขอให้สนุกกับการใช้งาน PolyArb Signal ครับ! หากมีคำถามเพิ่มเติม แจ้งได้เลย
